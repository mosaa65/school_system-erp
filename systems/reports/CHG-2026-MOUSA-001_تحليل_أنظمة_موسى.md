# ๐ ุชูุฑูุฑ ุชุญููู ุฃูุธูุฉ ุงููููุฏุณ ููุณู ุงูุนูุงุถู
## ุชุญููู ุดุงูู ููุชุทุจูุน ูุงููุฑููุฉ - CHG-2026-MOUSA-001

---

## ๐ ูุนูููุงุช ุงูุชูุฑูุฑ

| ุงูุจูุฏ | ุงููููุฉ |
|-------|--------|
| **ุฑูู ุงูุชูุฑูุฑ** | CHG-2026-MOUSA-001 |
| **ุงูุชุงุฑูุฎ** | 2026-01-14 |
| **ุงููููุฏุณ** | ููุณู ุงูุนูุงุถู |
| **ุงูุฏูุฑ** | ุงููููุฏุณ ุงููุณุคูู ุงูุชูููุฐู |
| **ููุน ุงูุชูุฑูุฑ** | ุชุญููู ุชุทุจูุน ููุฑููุฉ |

---

## ๐ ููุฎุต ุงูุฃูุธูุฉ

| ุงููุธุงู | ุงูููู | ุงูุฌุฏุงูู | Views | ุงูุฅุฌุฑุงุกุงุช |
|--------|-------|---------|-------|-----------|
| ุงูููุงุฉ ุงูุฃูุงุฏูููุฉ | `02_core_academic.sql` | 8 | 0 | 0 |
| ุฌุฏูู ุงูุญุตุต ุงูุฐูู | `11_timetable_system.sql` | 15 | 5 | 2 |
| ุฌุณุฑ ุงูููุตุฉ ุงูุชุนููููุฉ | `13_learning_platform_bridge.sql` | 8 | 2 | 0 |
| **ุงูุฅุฌูุงูู** | **3 ูููุงุช** | **31** | **7** | **2** |

---

## โ ุชุญููู ูุณุชูู ุงูุชุทุจูุน (Normalization)

### ุงููุชูุฌุฉ: ููุชุงุฒ โโโโโ

| ุงููุณุชูู | ุงูุญุงูุฉ | ุงูููุงุญุธุงุช |
|---------|--------|-----------|
| **1NF** | โ ูุทุจู | ุฌููุน ุงูุญููู ุฐุฑูุฉุ ูุง ุชูุฑุงุฑ |
| **2NF** | โ ูุทุจู | ูุง ุงุนุชูุงุฏูุฉ ุฌุฒุฆูุฉ ุนูู ุงูููุงุชูุญ |
| **3NF** | โ ูุทุจู | ุฌุฏุงูู Lookup ูููุตูุฉ ูุฌููุน ุงูููู ุงูุซุงุจุชุฉ |
| **BCNF** | โ ูุทุจู | ูุง ุงุนุชูุงุฏูุงุช ุงูุชูุงููุฉ |

### ุฃูุซูุฉ ุงูุชุทุจูุน ุงูุฌูุฏ:
- `lookup_timetable_statuses` - ูุตู ุญุงูุงุช ุงูุฌุฏูู
- `lookup_subject_weights` - ูุตู ุฃูุฒุงู ุงูููุงุฏ
- `lookup_lms_content_types` - ูุตู ุฃููุงุน ุงููุญุชูู

---

## ๐ ุชุญููู ุงููููุฏ ูุงูููุงุฑุณ

### ุงููุชูุฌุฉ: ููุชุงุฒ โโโโโ

| ุงูููุฏ | ุงูุนุฏุฏ | ุฃูุซูุฉ |
|-------|-------|-------|
| **PRIMARY KEY** | 31 | `id` ูู ุฌููุน ุงูุฌุฏุงูู |
| **FOREIGN KEY** | 60+ | ุฑุจุท ูุญูู ุจูู ุงูุฌุฏุงูู |
| **UNIQUE** | 15+ | ููุน ุงูุชูุฑุงุฑ ุงูููุทูู |
| **INDEX** | 40+ | ููุงุฑุณ ููุญููู ุงููุจุญูุซุฉ |

### ูููุฏ ุจุงุฑุฒุฉ:
- `uk_ttslot_classroom` - ููุน ุชุนุงุฑุถ ุงููุตูู
- `uk_ttslot_teacher` - ููุน ุชุนุงุฑุถ ุงููุนูููู
- `uk_year_semester` - ูุตููู ููุท ููู ุนุงู

---

## ๐ ุชุญููู ุงููุฑููุฉ ููุงุจููุฉ ุงูุชูุณุน

### ุงููุชูุฌุฉ: ููุชุงุฒ โโโโโ

| ุงููุนูุงุฑ | ุงูุญุงูุฉ | ุงูุชูุงุตูู |
|---------|--------|----------|
| **Versioning** | โ | `timetable_versions` ูุฏุนู ุฅุตุฏุงุฑุงุช ูุชุนุฏุฏุฉ |
| **Soft Delete** | โ๏ธ ุฌุฒุฆู | ููุฌูุฏ ูู ุจุนุถ ุงูุฌุฏุงูู ููุท |
| **Audit Trail** | โ | `timetable_audit_log` ู `lms_sync_log` |
| **Settings Table** | โ | `lms_bridge_settings` ููุฅุนุฏุงุฏุงุช ุงููุฑูุฉ |
| **Multi-tenant** | โ๏ธ ุฌุงูุฒ | ูููู ุฅุถุงูุฉ `school_id` ุจุณูููุฉ |
| **API Ready** | โ | Views ุฌุงูุฒุฉ ููู REST/GraphQL |

---

## โ๏ธ ููุงุญุธุงุช ูุชูุตูุงุช

### 1. ุชูุญูุฏ ุงูุญุฐู ุงููุงุนู (Soft Delete)

**ุงูุญุงูุฉ ุงูุญุงููุฉ:** ุจุนุถ ุงูุฌุฏุงูู ุชุณุชุฎุฏู `is_active` ูุจุนุถูุง `deleted_at`

**ุงูุชูุตูุฉ:** ุชูุญูุฏ ุงูููุท ุจุงุณุชุฎุฏุงู ููุงููุง:
```sql
is_active BOOLEAN DEFAULT TRUE,
deleted_at TIMESTAMP NULL
```

**ุงูุฌุฏุงูู ุงููุชุฃุซุฑุฉ:**
- `timetable_versions` โ ูุฏูู `is_active` ููุท
- `scheduling_constraints` โ ูุฏูู `is_active` ููุท
- `lms_content_links` โ ูุญุชุงุฌ `deleted_at`

---

### 2. ุฅุถุงูุฉ ุญููู ุชุฏููู ููุญุฏุฉ

**ุงูุชูุตูุฉ:** ุฅุถุงูุฉ `updated_by_user_id` ููุฌุฏุงูู ุงูุชู ุชูุชูุฏู:
- `academic_years`
- `semesters`
- `academic_months`
- `grade_levels`

---

### 3. ุฅุถุงูุฉ CHECK Constraints

**ุงูุชูุตูุฉ:** ุฅุถุงูุฉ ูููุฏ ููููู ุงูููุทููุฉ:

```sql
-- ูู timetable_slots
CHECK (period_number BETWEEN 1 AND 8)

-- ูู teacher_workload
CHECK (total_periods BETWEEN 0 AND 40)

-- ูู simulation_runs
CHECK (duration_seconds >= 0)
```

---

### 4. ุฎุทุฃ ุจุณูุท ูู ููู LMS

**ุงููููุน:** ุณุทุฑ 362 ูู `13_learning_platform_bridge.sql`

**ุงููุดููุฉ:** ุนูุงูุฉ ุชุนููู ูุงูุตุฉ:
```sql
-- ูุจู:
โ  ุฅุนุฏุงุฏ ูุงุนุชูุงุฏ: ุงููููุฏุณ ููุณู ุงูุนูุงุถู

-- ุจุนุฏ:
-- โ  ุฅุนุฏุงุฏ ูุงุนุชูุงุฏ: ุงููููุฏุณ ููุณู ุงูุนูุงุถู
```

---

## ๐ ุงูุชูููู ุงูููุงุฆู

| ุงููุนูุงุฑ | ุงูุชูููู | ููุงุญุธุฉ |
|---------|---------|--------|
| ุงูุชุทุจูุน | โโโโโ | ููุชุงุฒ - ุฌููุน ูุณุชููุงุช ุงูุชุทุจูุน ูุทุจูุฉ |
| ุงููููุฏ | โโโโโ | ููุชุงุฒ - FKs ู UNIQUEs ุดุงููุฉ |
| ุงูููุงุฑุณ | โโโโโ | ููุชุงุฒ - ุชุบุทูุฉ ููุญููู ุงููุจุญูุซุฉ |
| ุงููุฑููุฉ | โโโโโ | ุฌูุฏ ุฌุฏุงู - ุจุนุถ ุงูุชูุญูุฏ ูุทููุจ |
| ุงูุชูุซูู | โโโโโ | ููุชุงุฒ - ุชุนูููุงุช ุนุฑุจูุฉ ูุงุถุญุฉ |
| ุงูุฌุงูุฒูุฉ ูููุณุชูุจู | โโโโโ | ุฌูุฏ ุฌุฏุงู - ุจููุฉ ูุงุจูุฉ ููุชูุณุน |

### ุงูุฎูุงุตุฉ

> โ **ุงูุฃูุธูุฉ ุฌุงูุฒุฉ ููุฅูุชุงุฌ** ูุน ุจุนุถ ุงูุชุญุณููุงุช ุงูุทูููุฉ ุงูููุชุฑุญุฉ

---

## ๐ง ุฎุทุฉ ุงูุชุญุณูู ุงูููุชุฑุญุฉ

| ุงูุฃููููุฉ | ุงููููุฉ | ุงูุฌูุฏ |
|----------|--------|-------|
| ๐ด ุนุงููุฉ | ุฅุตูุงุญ ุฎุทุฃ ุงูุชุนููู ูู LMS | 5 ุฏูุงุฆู |
| ๐ก ูุชูุณุทุฉ | ุชูุญูุฏ Soft Delete | 30 ุฏูููุฉ |
| ๐ข ููุฎูุถุฉ | ุฅุถุงูุฉ CHECK Constraints | 1 ุณุงุนุฉ |
| ๐ข ููุฎูุถุฉ | ุฅุถุงูุฉ ุญููู ุงูุชุฏููู | 30 ุฏูููุฉ |

---

**ุงููููุฏุณ ุงููุณุคูู ุงูุชูููุฐู: ููุณู ุงูุนูุงุถู**  
**ุดุฑูุฉ ุฅููุง ุณููุช ููุญููู ุงูุชูููุฉ**  
**ุงูุชุงุฑูุฎ: 2026-01-14**
