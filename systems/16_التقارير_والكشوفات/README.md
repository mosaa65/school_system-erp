# ๐ ูุธุงู ุงูุชูุงุฑูุฑ ูุทุจุงุนุฉ ุงููุดููุงุช ุงูุฐูู (SRPS)
## Smart Reporting & Print System - V2.0 ๐

---

## ๐ ุจุทุงูุฉ ุงููุธุงู
| ุงูุจูุฏ | ุงููููุฉ |
|-------|--------|
| **ุงูุฅุตุฏุงุฑ** | 2.0 (Enterprise Output Engine) |
| **ุงููููุฏุณ ุงููุณุคูู** | ููุณู ุงูุนูุงุถู / ุฃุญูุฏ ุงููุชุงุฑ |
| **ุนุฏุฏ ุงูุชูุงุฑูุฑ ุงููุฏุนููุฉ** | +45 ุชูุฑูุฑ ุงูุชุฑุงุถู (ูุงุจู ููุชูุณุน) |
| **ุชูููุฉ ุงูููุชุฑุฉ** | Dynamic Context-Aware Filtering |
| **ุญุงูุฉ ุงููุฑุงุฌุนุฉ** | โ ูุนุชูุฏ ููุงุฆูุงู |

---

## ๐ ูุง ูู ูุฐุง ุงููุธุงูุ
ุฅูู **"ูุณุงู ุญุงู"** ุงููุฏุฑุณุฉ.
ูุธุงู (SRPS) ููุณ ูุฌุฑุฏ ุฃุฏุงุฉ ุทุจุงุนุฉุ ุจู **ูุญุฑู ุฐูุงุก ุฃุนูุงู (BI Lite)** ูุตุบุฑ. ูู ุงูุฃุฏุงุฉ ุงูุชู ุชุญูู ููุงููู ุงูุจูุงูุงุช ุงูุฎุงู (ุฏุฑุฌุงุชุ ุบูุงุจุ ุฑุณููุ ููุงุญุธุงุช) ุฅูู **ูุซุงุฆู ุฑุณููุฉ ุฐุงุช ูุนูู**ุ ุชุฏุนู ุงุชุฎุงุฐ ุงููุฑุงุฑ ูุชูุซู ุงูุนูููุงุช.

### ๐ ููุณูุฉ ุงูุชุตููู: "ูุง ุชุจูู ุชูุฑูุฑุงูุ ุงุจูู ูุญุฑูุงู"
ุจุฏูุงู ูู ุจุฑูุฌุฉ 100 ุตูุญุฉ PHP ููู ุชูุฑูุฑุ ูููุง ุจุจูุงุก **ูุญุฑู ูุงุญุฏ** ูุณุชุทูุน ุชูููุฏ ุฃู ุชูุฑูุฑ ุจูุงุกู ุนูู "ุชุนุฑููุงุช" (Definitions) ูุฎุฒูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.

---

## ๐ช๏ธ ูุนูุงุฑูุฉ ุงูููุชุฑุฉ ุงูุฐููุฉ (Smart Filtering Architecture)

ุฃููู ููุฒุฉ ูู ุงููุธุงู ูู **ุงูููุงุชุฑ ุงูุณูุงููุฉ**. ุงููุธุงู ูููู "ุณูุงู" ุงูุชูุฑูุฑ ููุธูุฑ ููุงุชุฑ ููุงุณุจุฉ ูู ููุท.

### ุดูู "ููุญุฉ ุงูููุงุชุฑ" (ููุงูุงุฉ ูููุงุฌูุฉ)

```text
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ ุฅุนุฏุงุฏุงุช ุงูุชูุฑูุฑ: [ ูุดู ุงูุทูุงุจ ุงููุชุฃุฎุฑูู ูุงููุงู ]      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  1. ูุทุงู ุงูุจุญุซ         โ  2. ุงูููุงุชุฑ ุงููุชูุฏูุฉ             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ุงููุฑุญูุฉ: [ ุงูุซุงูููุฉ ] โ  [x] ุงุณุชุซูุงุก ุงูุฃูุชุงู             โ
โ  ุงูุตู:    [ ุงูุนุงุดุฑ ]   โ  [x] ุงุณุชุซูุงุก ุฃุจูุงุก ุงูุนุงูููู      โ
โ  ุงููุตู:   [ ุงููู ]     โ  ุงููุจูุบ ุงููุชุจูู > [ 5000 ] ุฑูุงู  โ
โ                        โ  ุงูุญุงูุฉ: [ ูุดุท ููุท ]             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  3. ุชุฎุตูุต ุงูุฃุนูุฏุฉ (Drag & Drop)                           โ
โ  [ ุงุณู ุงูุทุงูุจ ] [ ููู ุงูุฃูุฑ ] [ ุงููุงุชู ] [ ุงููุจูุบ ] โฃ     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ          [ ๐จ๏ธ ุทุจุงุนุฉ ูุนุงููุฉ ]    [ ๐ ุชุตุฏูุฑ Excel ]        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุฃููุงุน ุงูููุงุชุฑ ุงููุฏุนููุฉ
1.  **ุงูููุงุชุฑ ุงููุฑููุฉ (Cascading):** ุนูุฏ ุงุฎุชูุงุฑ "ุงูุซุงูููุฉ"ุ ุชุธูุฑ ุตููู "10-12" ููุท. ุนูุฏ ุงุฎุชูุงุฑ "ุตู 10"ุ ุชุธูุฑ ุดุนุจู ููุท.
2.  **ููุงุชุฑ ุงููุทุงู (Ranges):** "ุงูุบูุงุจ ูู ุชุงุฑูุฎ [X] ุฅูู [Y]" ุฃู "ุงููุจูุบ ูู [100] ุฅูู [1000]".
3.  **ููุงุชุฑ ุงูุญุงูุฉ (Status Flags):** (ูุงุฌุญ/ุฑุงุณุจ)ุ (ูุณุฏุฏ/ุบูุฑ ูุณุฏุฏ)ุ (ูุดุท/ููุตูู).
4.  **ุงูุจุญุซ ุงููุตู (Text Search):** ุงูุจุญุซ ุจุฌุฒุก ูู ุงูุงุณู ุฃู ุฑูู ุงููุงุชู.

---

## ๐ ุฏููู ุงูุชูุงุฑูุฑ ุงูุดุงูู (Master Report Catalog)

ูุฐู ุงููุงุฆูุฉ ุงููุงููุฉ ููุชูุงุฑูุฑ ุงูุชู ูููู ูููุธุงู ุชูููุฏูุงุ ูุตููุฉ ุญุณุจ ุงููุณู.

### 1๏ธโฃ ุชูุงุฑูุฑ ุดุคูู ุงูุทูุงุจ (Student Affairs)
| ุงุณู ุงูุชูุฑูุฑ | ุงููุตู | ุงูููุงุชุฑ ุงููุชุงุญุฉ |
|-------------|-------|-----------------|
| **ูุดู ุงูุทูุงุจ ุงูุดุงูู** | ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ ููุทูุงุจ ูุน ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ | ุงูุตูุ ุงูุดุนุจุฉุ ุงูุญุงูุฉ (ูุดุท/ููุณุญุจ) |
| **ุณุฌู ููุฏ ุงูุทุงูุจ** | ุงุณุชูุงุฑุฉ ุชูุตูููุฉ ูุจูุงูุงุช ุทุงูุจ ูุงุญุฏ (ุจุฑููุงูู) | ุงูุจุญุซ ุจุงูุงุณู/ุงูุฑูู |
| **ูุดู ุงูููุงุฏุงุฉ (ุงูุบูุงุจ)** | ูุดู ูุงุฑุบ ูููุนูููู ูุชุณุฌูู ุงูุญุถูุฑ ุงููุฏูู | ุงูุตูุ ุงูุดุนุจุฉุ ุงูุฃุณุจูุน |
| **ุชูุฑูุฑ ุงูุฃุนูุงุฑ** | ุชุญููู ุฃุนูุงุฑ ุงูุทูุงุจ ูุชุงุฑูุฎ ุงููููุงุฏ | ุงูุตูุ ุณูุฉ ุงููููุงุฏ |
| **ุจูุงูุงุช ุงูุงุชุตุงู** | ููุงุชู ุฃูููุงุก ุงูุฃููุฑ (ููุชูุงุตู ุงูุฌูุงุนู) | ุงูุตูุ ุงูุญู ุงูุณููู |
| **ุชูุฑูุฑ ุงูุฃูุชุงู/ุงูุญุงูุงุช** | ูุดู ุงูุทูุงุจ ุฐูู ุงูุญุงูุงุช ุงูุฎุงุตุฉ (ูููุฑุดุฏ) | ููุน ุงูุญุงูุฉ (ูุชูู/ูุฑูุถ/...) |
| **ุฅุญุตุงุฆูุฉ ุงููุจูู** | ุฃุนุฏุงุฏ ุงูุทูุงุจ ุงููุณุฌููู (ุฐููุฑ/ุฅูุงุซ) ุญุณุจ ุงูุตู | ุงูุนุงู ุงูุฏุฑุงุณู |

### 2๏ธโฃ ุงูุชูุงุฑูุฑ ุงูุฃูุงุฏูููุฉ ูุงูุงูุชุญุงูุงุช (Academic & Exams)
| ุงุณู ุงูุชูุฑูุฑ | ุงููุตู | ุงูููุงุชุฑ ุงููุชุงุญุฉ |
|-------------|-------|-----------------|
| **ุงูุดูุงุฏุฉ ุงููุฏุฑุณูุฉ** | ุงูุดูุงุฏุฉ ุงูุฑุณููุฉ ุงูููุงุฆูุฉ ูููุตู ุงูุฏุฑุงุณู | ุงูุตูุ ุงูุทุงูุจุ ุงููุตู ุงูุฏุฑุงุณู |
| **ุฅุดุนุงุฑ ุงูุฏุฑุฌุงุช ุงูุดูุฑู** | ุชูุฑูุฑ ุฃุฏุงุก ุงูุทุงูุจ ูู ุงูุงุฎุชุจุงุฑุงุช ุงูุดูุฑูุฉ | ุงูุดูุฑุ ุงูุตู |
| **ูุดู ุฑุตุฏ ุงูุฏุฑุฌุงุช** | ูุดู (Sheet) ูููุนูู ูุฅุฏุฎุงู ุงูุฏุฑุฌุงุช | ุงููุงุฏุฉุ ุงูุตูุ ุงูุดุนุจุฉ |
| **ูุงุฆูุฉ ุงูุฃูุงุฆู** | ุชุฑุชูุจ ุงูุทูุงุจ ุญุณุจ ุงููุนุฏู (Top 10) | ุงูุตูุ ูุณุชูู ุงููุฏุฑุณุฉ |
| **ุชูุฑูุฑ ุงูุฑุงุณุจูู** | ูุดู ุงูุทูุงุจ ุงูุฐูู ุฑุณุจูุง ูู ูุงุฏุฉ ุฃู ุฃูุซุฑ | ุนุฏุฏ ููุงุฏ ุงูุฑุณูุจุ ุงููุงุฏุฉ |
| **ุชูุฒูุน ุงููุฌุงู** | ูุดู ุจุฃุณูุงุก ุงูุทูุงุจ ููุฒุนูู ุนูู ุงููุฌุงู ูุงูููุงุนุฏ | ุงุณู ุงููุฌูุฉุ ุงููุงุนุฉ |
| **ููุตูุงุช ุฃุฑูุงู ุงูุฌููุณ** | ุทุจุงุนุฉ ุฃุฑูุงู ุงูุฌููุณ ููุตููุง ุนูู ุงูุทุงููุงุช | ุงูุตูุ ุงููุฌูุฉ |

### 3๏ธโฃ ุงูุชูุงุฑูุฑ ุงููุงููุฉ (Financial Reports) ๐ฐ
> **ุงูุฃูุซุฑ ุฃูููุฉ ููุฅุฏุงุฑุฉ ูุถุจุท ุงูููุงุฑุฏ**

| ุงุณู ุงูุชูุฑูุฑ | ุงููุตู | ุงูููุงุชุฑ ุงููุชุงุญุฉ |
|-------------|-------|-----------------|
| **ูุดู ุงููุชุฃุฎุฑูู (Defaulters)** | ุงูุทูุงุจ ุงูุฐูู ุนูููู ูุจุงูุบ ูุชุจููุฉ | ุญุฏ ุงููุจูุบ (ูุซูุงู > 5000)ุ ุงูุตู |
| **ุชูุฑูุฑ ุงูุฅูุฑุงุฏ ุงููููู** | ุญุฑูุฉ ุงูุตูุฏูู (ูุง ุชู ุชุญุตููู ุงูููู) | ุงูุชุงุฑูุฎุ ุงุณู ุงููุญุตู |
| **ุชูุฑูุฑ ุงููุตุฑููุงุช** | ุชูุตูู ูุง ุชู ุตุฑูู ุญุณุจ ุงูุจูุฏ (ุฑูุงุชุจ/ุตูุงูุฉ) | ุงููุชุฑุฉุ ููุน ุงููุตุฑูู |
| **ุงููุฑูุฒ ุงููุงูู ููุทุงูุจ** | ูุดู ุญุณุงุจ ุชุงุฑูุฎู ูุทุงูุจ (ูููู ุงูุฃูุฑ) | ุงุณู ุงูุทุงูุจ |
| **ููุฎุต ุงูุฅุนูุงุกุงุช** | ูุดู ุจูู ุชู ุฅุนูุงุคูู ูุงููุจุงูุบ ุงููุฎุตููุฉ | ููุน ุงูุฅุนูุงุกุ ูุฑุงุฑ ุงููุฏูุฑ |
| **ููุฒุงููุฉ ุงููุฏุฑุณุฉ** | ููุฎุต ุงูุฅูุฑุงุฏุงุช vs ุงููุตุฑููุงุช (ุงูุฑุจุญ ูุงูุฎุณุงุฑุฉ) | ุงูุดูุฑุ ุงูุณูุฉุ ุงููุตู |

### 4๏ธโฃ ุชูุงุฑูุฑ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ (HR)
| ุงุณู ุงูุชูุฑูุฑ | ุงููุตู | ุงูููุงุชุฑ ุงููุชุงุญุฉ |
|-------------|-------|-----------------|
| **ูุณูุฑ ุงูุฑูุงุชุจ** | ูุดู ุงูุฑูุงุชุจ ุงูุดูุฑู ููุชุณููู | ุงูุดูุฑุ ุงููุณูุ ุงูุจูู |
| **ุณุฌู ุงูุญุถูุฑ ูุงูุงูุตุฑุงู** | ุชูุฑูุฑ ุจุตูุฉ/ุญุถูุฑ ุงูููุธููู | ุงูููุธูุ ุงูุดูุฑุ ุงูุญุงูุฉ (ุชุฃุฎุฑ) |
| **ุฑุตูุฏ ุงูุฅุฌุงุฒุงุช** | ุงููุชุจูู ูู ุฅุฌุงุฒุงุช ุงูููุธููู | ุณูุฉ ุงูุฎุฏูุฉ |
| **ูุตุงุจ ุงููุนูููู** | ุนุฏุฏ ุงูุญุตุต ุงูุฃุณุจูุนูุฉ ููู ูุนูู | ุงููุงุฏุฉุ ุงููุฑุญูุฉ |

### 5๏ธโฃ ุชูุงุฑูุฑ ุงูููู ูุงูุญุฑูุฉ (Transportation) ๐
| ุงุณู ุงูุชูุฑูุฑ | ุงููุตู | ุงูููุงุชุฑ ุงููุชุงุญุฉ |
|-------------|-------|-----------------|
| **ููุงุฆู ุฑูุงุจ ุงูุจุงุตุงุช** | ูุดู ุณุงุฆู ุงูุจุงุต ุจุฃุณูุงุก ุงูุทูุงุจ | ุฑูู ุงูุจุงุตุ ุงููุดุฑู |
| **ุงููุดุชุฑููู ุงูููุชูููู** | ุงุดุชุฑุงูุงุช ุงูููู ุงูุชู ุดุงุฑูุช ุนูู ุงูุงูุชูุงุก | ุชุงุฑูุฎ ุงูุงูุชูุงุกุ ุงูุฎุท |
| **ุตูุงูุฉ ุงูุจุงุตุงุช** | ุณุฌู ุชูุงููู ุงูุฅุตูุงุญุงุช ูุงููููุฏ | ุฑูู ุงูุจุงุตุ ุงููุชุฑุฉ |

### 6๏ธโฃ ุชูุงุฑูุฑ ุฅุฏุงุฑูุฉ ูุนุงูุฉ (Admin)
| ุงุณู ุงูุชูุฑูุฑ | ุงููุตู | ุงูููุงุชุฑ ุงููุชุงุญุฉ |
|-------------|-------|-----------------|
| **ุณุฌู ุงูุฒูุงุฑ** | ูู ุฏุฎู ุงููุฏุฑุณุฉ ูููุงุฐุงุ | ุงูุชุงุฑูุฎุ ุงูุบุฑุถ |
| **ุฅุญุตุงุฆูุฉ ุงููุฎุงููุงุช** | ุงูุทูุงุจ ุงูุฃูุซุฑ ุงุฑุชูุงุจุงู ูููุฎุงููุงุช | ููุน ุงููุฎุงููุฉุ ุงูุตู |
| **ุฌุฑุฏ ุงูููุชุจุฉ** | ุงููุชุจ ุงููุนุงุฑุฉ ูุงูููููุฏุฉ ูุงููุชููุฑุฉ | ุงูุชุตูููุ ุงูุญุงูุฉ |

---

## ๐ก ุณููุงุฑูููุงุช ููุชุฑุฉ ูุงูุนูุฉ (Use Cases)

ููู ูุณุชุฎุฏู ูุฏูุฑ ูุญุชุฑู ูุฐุง ุงููุธุงูุ ุฅููู 3 ุฃูุซูุฉ:

### ุงูุณููุงุฑูู 1: "ุฃุญุชุงุฌ ูููุณ ูุฏูุน ุงูุฑูุงุชุจ"
*   **ุงููุฏู:** ูุนุฑูุฉ ูู ูููู ุชุญุตูู ุงูุฑุณูู ููู ุจุณุฑุนุฉ.
*   **ุงูุชูุฑูุฑ:** ูุดู ุงููุชุฃุฎุฑูู ูุงููุงู.
*   **ุงูููุงุชุฑ ุงููุณุชุฎุฏูุฉ:**
    *   ุงูุตู: `ุงููู`
    *   ุงููุจูุบ ุงููุชุจูู: `ุฃูุจุฑ ูู 10,000 ุฑูุงู` (ููุชุฑููุฒ ุนูู ุงููุจุงูุบ ุงููุจูุฑุฉ)
    *   ุงูุญุงูุฉ ุงูุงุฌุชูุงุนูุฉ: `ุงุณุชุซูุงุก ุงูุฃูุชุงู` (ูุนุฏู ุฅุญุฑุงุฌูู)
    *   ุงูุชุฑุชูุจ: `ุชูุงุฒูู ุญุณุจ ุงููุจูุบ`
*   **ุงููุชูุฌุฉ:** ูุงุฆูุฉ ูุฑูุฒุฉ ุจู 50 ุทุงูุจ ูููู ุงูุชูุงุตู ูุนูู ููุฑุงู ูุชุบุทูุฉ ุงูุนุฌุฒ.

### ุงูุณููุงุฑูู 2: "ุชูุฒูุน ุงูุทูุงุจ ุนูู ุงููุตูู ุจุงูุนุฏู"
*   **ุงููุฏู:** ุงูุชุฃูุฏ ูู ุชูุงุฒู ุงููุซุงูุฉ ูุงูุทูุงุจ ุงููุดุงุบุจูู.
*   **ุงูุชูุฑูุฑ:** ูุดู ุชูุฒูุน ุงูุทูุงุจ.
*   **ุงูููุงุชุฑ ุงููุณุชุฎุฏูุฉ:**
    *   ุงูุตู: `ุชุงุณุน`
    *   ุงูุฃุนูุฏุฉ ุงูุธุงูุฑุฉ: `ุงูุงุณู` + `ุงูุญุงูุฉ ุงูุณููููุฉ` + `ุงููุนุฏู ุงูุนุงู`
*   **ุงููุชูุฌุฉ:** ูุฑู ุงููุฏูุฑ ุฅุฐุง ูุงู ูุตู (ุฃ) ููู ูู ุงููุดุงุบุจูู ุฃู ูู ุงููุชููููู ููุนูุฏ ุงูุชูุฒูุน.

### ุงูุณููุงุฑูู 3: "ููุงูุฃุฉ ุงููุนูููู ุงูููุชุฒููู"
*   **ุงููุฏู:** ุตุฑู ููุงูุฃุฉ ุงูุงูุถุจุงุท.
*   **ุงูุชูุฑูุฑ:** ููุฎุต ุญุถูุฑ ุงูููุธููู.
*   **ุงูููุงุชุฑ ุงููุณุชุฎุฏูุฉ:**
    *   ุงููุชุฑุฉ: `ุงูุดูุฑ ุงููุงุถู`
    *   ุฃูุงู ุงูุบูุงุจ: `ุชุณุงูู 0`
    *   ุณุงุนุงุช ุงูุชุฃุฎูุฑ: `ุฃูู ูู 60 ุฏูููุฉ`
*   **ุงููุชูุฌุฉ:** ูุงุฆูุฉ ุจุงูููุธููู ุงููุซุงูููู ููุฐุง ุงูุดูุฑ.

---

## โ๏ธ ุงูููุงุตูุงุช ุงูุชูููุฉ (ูููุทูุฑูู)

### 1. ููู ูุถูู ุชูุฑูุฑุงู ุฌุฏูุฏุงูุ
ุจุจุณุงุทุฉุ ุฃุถู ุณุฌูุงู ูู ุฌุฏูู `report_definitions` ูุงุฑุจุทู ุจู `View` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.

### 2. ูุซุงู SQL: ุชูุฑูุฑ ุงูุทูุงุจ ุงูุฃูุซุฑ ุงุณุชุนุงุฑุฉ ูููุชุจ
```sql
-- 1. ุฅูุดุงุก View ูุฌูุน ุงูุจูุงูุงุช
CREATE VIEW v_report_library_top_readers AS
SELECT 
    s.full_name, 
    gl.name_ar AS grade,
    COUNT(bl.id) AS books_read
FROM book_loans bl
JOIN student_enrollments se ON bl.enrollment_id = se.id
JOIN students s ON se.student_id = s.id
JOIN classrooms c ON se.classroom_id = c.id
JOIN grade_levels gl ON c.grade_level_id = gl.id
WHERE bl.is_returned = 1
GROUP BY s.id
ORDER BY books_read DESC;

-- 2. ุชุณุฌูู ุงูุชูุฑูุฑ ูู ุงููุธุงู
INSERT INTO report_templates (code, name_ar, base_view_name, category_id)
VALUES ('LIB_TOP_READERS', 'ุงูุทูุงุจ ุงูุฃูุซุฑ ูุฑุงุกุฉ', 'v_report_library_top_readers', 4);
```

---

**ุดุฑูุฉ ุฅููุง ุณููุช ููุญููู ุงูุชูููุฉ** | 2026
