-- ╔══════════════════════════════════════════════════════════════════════════════╗
-- ║           نظام الدرجات والتقويم الذكي (SGAS) - v3.2                        ║
-- ║           بيانات تجريبية شاملة (Comprehensive Demo Data)                   ║
-- ║                                                                              ║
-- ║   ⚠️ تنبيه: يعتمد على وجود بيانات أساسية في:                               ║
-- ║   - System 01 (users, buildings)                                             ║
-- ║   - System 02 (academic_years, semesters, academic_months,                  ║
-- ║                grade_levels, classrooms, subjects, grade_subjects)           ║
-- ║   - System 04 (students, student_enrollments, student_attendance)           ║
-- ║   - System 08 (exam_sessions) — للجدول الجديد exam_session_periods         ║
-- ╚══════════════════════════════════════════════════════════════════════════════╝

-- ═══════════════════════════════════════════════════════════════════════════════
-- القسم 0: المتطلبات المسبقة (Pre-requisites)
-- ═══════════════════════════════════════════════════════════════════════════════
-- يفترض وجود البيانات التالية (من الأنظمة الأخرى):
--   academic_years:    id=1 (1447-1448 هـ / 2025-2026)
--   semesters:         id=1 (الفصل الأول), id=2 (الفصل الثاني)
--   academic_months:   id=1..3 (أشهر الفصل الأول), id=4..6 (أشهر الفصل الثاني)
--   grade_levels:      id=10 (الصف الأول ثانوي)
--   classrooms:        id=1 (أول ثانوي/أ), id=2 (أول ثانوي/ب)
--   subjects:          id=1 (قرآن), id=2 (إسلامية), id=3 (عربي), id=4 (إنجليزي),
--                      id=5 (رياضيات), id=6 (علوم), id=7 (فيزياء),
--                      id=10 (اجتماعيات), id=14 (حاسوب)
--   student_enrollments: id=1..15 (15 طالب مسجل في classroom_id=1)
--   users:             id=1 (مدير), id=2 (معلم رياضيات), id=3 (معلم عربي)
--   exam_sessions:     id=1..4 (من System 08)

-- ═══════════════════════════════════════════════════════════════════════════════
-- القسم 1: سياسات الدرجات (grading_policies) — 15 سجل
-- ═══════════════════════════════════════════════════════════════════════════════
-- الأعمدة: grade_level_id, subject_id, exam_period_type,
--          max_attendance_score, max_homework_score, max_activity_score,
--          max_exam_score, passing_score, academic_year_id

INSERT INTO grading_policies (grade_level_id, subject_id, exam_period_type, max_attendance_score, max_homework_score, max_activity_score, max_exam_score, passing_score, academic_year_id) VALUES
-- الصف الأول ثانوي — المواد الأساسية (MONTHLY)
(10, 5,  'MONTHLY',  5.00,  5.00,  5.00, 20.00, 17.50, 1),  -- رياضيات
(10, 3,  'MONTHLY',  5.00,  5.00,  5.00, 20.00, 17.50, 1),  -- عربي
(10, 4,  'MONTHLY',  5.00,  5.00,  5.00, 20.00, 17.50, 1),  -- إنجليزي
(10, 6,  'MONTHLY',  5.00,  5.00,  5.00, 20.00, 17.50, 1),  -- علوم
(10, 2,  'MONTHLY',  5.00,  5.00,  5.00, 20.00, 17.50, 1),  -- إسلامية
(10, 1,  'MONTHLY',  5.00,  5.00,  5.00, 20.00, 17.50, 1),  -- قرآن
(10, 14, 'MONTHLY',  5.00,  5.00,  5.00, 20.00, 17.50, 1),  -- حاسوب
(10, 10, 'MONTHLY',  5.00,  5.00,  5.00, 20.00, 17.50, 1),  -- اجتماعيات
(10, 7,  'MONTHLY',  5.00,  5.00,  5.00, 20.00, 17.50, 1),  -- فيزياء
-- MIDTERM
(10, 5,  'MIDTERM',  0.00,  0.00,  0.00, 40.00, 20.00, 1),  -- رياضيات نصفي
(10, 3,  'MIDTERM',  0.00,  0.00,  0.00, 40.00, 20.00, 1),  -- عربي نصفي
-- FINAL
(10, 5,  'FINAL',    0.00,  0.00,  0.00, 50.00, 25.00, 1),  -- رياضيات نهائي
(10, 3,  'FINAL',    0.00,  0.00,  0.00, 50.00, 25.00, 1),  -- عربي نهائي
(10, 6,  'FINAL',    0.00,  0.00,  0.00, 50.00, 25.00, 1),  -- علوم نهائي
(10, 4,  'FINAL',    0.00,  0.00,  0.00, 50.00, 25.00, 1);  -- إنجليزي نهائي

-- ═══════════════════════════════════════════════════════════════════════════════
-- القسم 2: الفترات الامتحانية (exam_periods) — 6 سجلات
-- ═══════════════════════════════════════════════════════════════════════════════
-- الأعمدة: academic_year_id, semester_id, name, type, start_date, end_date,
--          is_active, created_by, is_locked

INSERT INTO exam_periods (academic_year_id, semester_id, name, type, start_date, end_date, is_active, created_by, is_locked) VALUES
(1, 1, 'اختبار شهر محرم',            'MONTHLY',  '2025-07-27', '2025-07-29', TRUE,  1, FALSE),
(1, 1, 'اختبار شهر صفر',             'MONTHLY',  '2025-08-26', '2025-08-28', TRUE,  1, FALSE),
(1, 1, 'اختبار شهر ربيع الأول',      'MONTHLY',  '2025-09-24', '2025-09-26', TRUE,  1, FALSE),
(1, 1, 'اختبار نهاية الفصل الأول',   'FINAL',    '2025-10-15', '2025-10-25', TRUE,  1, FALSE),
(1, 2, 'اختبار شهر ربيع الثاني',     'MONTHLY',  '2025-11-25', '2025-11-27', TRUE,  1, FALSE),
(1, 2, 'اختبار نهاية الفصل الثاني',  'FINAL',    '2026-03-10', '2026-03-20', FALSE, 1, FALSE);

-- ═══════════════════════════════════════════════════════════════════════════════
-- القسم 3: جدولة الاختبارات (exam_schedules) — 18 سجل
-- ═══════════════════════════════════════════════════════════════════════════════
-- الأعمدة: exam_period_id, subject_id, grade_level_id, exam_date,
--          max_score, start_time, duration_minutes, created_by
-- ⚡ Trigger trg_exam_schedule_auto_populate سيُنشئ سجلات student_exam_scores آلياً

INSERT INTO exam_schedules (exam_period_id, subject_id, grade_level_id, exam_date, max_score, start_time, duration_minutes, created_by) VALUES
-- اختبار شهر محرم (فترة 1)
(1, 5,  10, '2025-07-27', 20.00, '08:00', 60, 2),   -- رياضيات
(1, 3,  10, '2025-07-27', 20.00, '10:00', 60, 3),   -- عربي
(1, 4,  10, '2025-07-28', 20.00, '08:00', 60, 2),   -- إنجليزي
(1, 6,  10, '2025-07-28', 20.00, '10:00', 60, 2),   -- علوم
(1, 2,  10, '2025-07-29', 20.00, '08:00', 45, 3),   -- إسلامية
(1, 14, 10, '2025-07-29', 20.00, '10:00', 45, 2),   -- حاسوب
-- اختبار شهر صفر (فترة 2)
(2, 5,  10, '2025-08-26', 20.00, '08:00', 60, 2),   -- رياضيات
(2, 3,  10, '2025-08-26', 20.00, '10:00', 60, 3),   -- عربي
(2, 4,  10, '2025-08-27', 20.00, '08:00', 60, 2),   -- إنجليزي
(2, 6,  10, '2025-08-27', 20.00, '10:00', 60, 2),   -- علوم
-- اختبار شهر ربيع الأول (فترة 3)
(3, 5,  10, '2025-09-24', 20.00, '08:00', 60, 2),   -- رياضيات
(3, 3,  10, '2025-09-24', 20.00, '10:00', 60, 3),   -- عربي
(3, 4,  10, '2025-09-25', 20.00, '08:00', 60, 2),   -- إنجليزي
(3, 6,  10, '2025-09-25', 20.00, '10:00', 60, 2),   -- علوم
-- اختبار نهاية الفصل الأول (فترة 4 — FINAL)
(4, 5,  10, '2025-10-16', 50.00, '08:00', 120, 2),  -- رياضيات نهائي
(4, 3,  10, '2025-10-18', 50.00, '08:00', 120, 3),  -- عربي نهائي
(4, 4,  10, '2025-10-20', 50.00, '08:00', 120, 2),  -- إنجليزي نهائي
(4, 6,  10, '2025-10-22', 50.00, '08:00', 120, 2);  -- علوم نهائي

-- ═══════════════════════════════════════════════════════════════════════════════
-- القسم 4: درجات الطلاب في الاختبارات (student_exam_scores) — 30 سجل
-- ═══════════════════════════════════════════════════════════════════════════════
-- الأعمدة: exam_schedule_id, enrollment_id, score, is_present,
--          absence_type, excuse_details, teacher_notes
-- ⚡ في الواقع الـ Trigger يُنشئ السجلات، هنا INSERT لغرض العرض

INSERT INTO student_exam_scores (exam_schedule_id, enrollment_id, score, is_present, absence_type, excuse_details, teacher_notes) VALUES
-- شهر محرم — رياضيات (exam_schedule_id = 1) — 15 طالب
(1, 1,  18.50, TRUE,  NULL,        NULL,                  'ممتاز - أعلى درجة'),
(1, 2,  15.00, TRUE,  NULL,        NULL,                  NULL),
(1, 3,  0.00,  FALSE, 'بعذر',     'مريض — تقرير طبي',    NULL),
(1, 4,  12.00, TRUE,  NULL,        NULL,                  'يحتاج تحسين'),
(1, 5,  19.00, TRUE,  NULL,        NULL,                  'ممتاز'),
(1, 6,  16.50, TRUE,  NULL,        NULL,                  NULL),
(1, 7,  8.00,  TRUE,  NULL,        NULL,                  'ضعيف — يحتاج متابعة'),
(1, 8,  14.00, TRUE,  NULL,        NULL,                  NULL),
(1, 9,  17.00, TRUE,  NULL,        NULL,                  'جيد جداً'),
(1, 10, 11.50, TRUE,  NULL,        NULL,                  NULL),
(1, 11, 20.00, TRUE,  NULL,        NULL,                  'الدرجة الكاملة!'),
(1, 12, 13.00, TRUE,  NULL,        NULL,                  NULL),
(1, 13, 0.00,  FALSE, 'بدون_عذر', NULL,                  'غائب بدون عذر'),
(1, 14, 16.00, TRUE,  NULL,        NULL,                  NULL),
(1, 15, 9.50,  TRUE,  NULL,        NULL,                  'ضعيف'),
-- شهر محرم — عربي (exam_schedule_id = 2) — 15 طالب
(2, 1,  17.00, TRUE,  NULL,        NULL,                  NULL),
(2, 2,  18.00, TRUE,  NULL,        NULL,                  'متقدمة في العربي'),
(2, 3,  0.00,  FALSE, 'بعذر',     'مريض — نفس العذر',    NULL),
(2, 4,  14.50, TRUE,  NULL,        NULL,                  NULL),
(2, 5,  16.00, TRUE,  NULL,        NULL,                  NULL),
(2, 6,  19.50, TRUE,  NULL,        NULL,                  'أعلى درجة'),
(2, 7,  10.00, TRUE,  NULL,        NULL,                  NULL),
(2, 8,  15.50, TRUE,  NULL,        NULL,                  NULL),
(2, 9,  12.00, TRUE,  NULL,        NULL,                  NULL),
(2, 10, 13.00, TRUE,  NULL,        NULL,                  NULL),
(2, 11, 17.50, TRUE,  NULL,        NULL,                  NULL),
(2, 12, 11.00, TRUE,  NULL,        NULL,                  NULL),
(2, 13, 0.00,  FALSE, 'بدون_عذر', NULL,                  NULL),
(2, 14, 14.00, TRUE,  NULL,        NULL,                  NULL),
(2, 15, 8.50,  TRUE,  NULL,        NULL,                  NULL)
ON DUPLICATE KEY UPDATE
    score = VALUES(score),
    is_present = VALUES(is_present),
    absence_type = VALUES(absence_type),
    excuse_details = VALUES(excuse_details),
    teacher_notes = VALUES(teacher_notes),
    updated_at = CURRENT_TIMESTAMP;

-- ═══════════════════════════════════════════════════════════════════════════════
-- القسم 5: الواجبات (homeworks) — 12 سجل
-- ═══════════════════════════════════════════════════════════════════════════════
-- الأعمدة: academic_year_id, semester_id, month_id, created_by,
--          classroom_id, subject_id, homework_type_id, due_date,
--          title, content, max_grade

INSERT INTO homeworks (academic_year_id, semester_id, month_id, created_by, classroom_id, subject_id, homework_type_id, due_date, title, content, max_grade) VALUES
-- رياضيات — شهر محرم (month_id = 1)
(1, 1, 1, 2, 1, 5, 1, '2025-07-15', 'حل تمارين الفصل الأول',       'حل التمارين ص 15-20 من الكتاب',           10.0),
(1, 1, 1, 2, 1, 5, 3, '2025-07-20', 'مشروع الهندسة الحسابية',      'إعداد عرض عن تطبيقات الهندسة في الحياة',  20.0),
(1, 1, 1, 2, 1, 5, 1, '2025-07-25', 'ورقة عمل المعادلات',          'حل ورقة العمل المرفقة',                   10.0),
-- عربي — شهر محرم
(1, 1, 1, 3, 1, 3, 1, '2025-07-14', 'تحليل قصيدة المتنبي',         'حفظ وتحليل قصيدة على قدر أهل العزم',     10.0),
(1, 1, 1, 3, 1, 3, 1, '2025-07-22', 'تعبير إبداعي عن الوطن',       'كتابة موضوع تعبير لا يقل عن 300 كلمة',   10.0),
(1, 1, 1, 3, 1, 3, 1, '2025-07-28', 'إعراب وتحليل نحوي',          'إعراب 10 جمل من الدرس الثالث',           10.0),
-- رياضيات — شهر صفر (month_id = 2)
(1, 1, 2, 2, 1, 5, 1, '2025-08-12', 'حل تمارين الفصل الثاني',      'حل التمارين ص 35-45 من الكتاب',           10.0),
(1, 1, 2, 2, 1, 5, 2, '2025-08-20', 'بحث عن النسب المثلثية',       'بحث شامل مع أمثلة تطبيقية',              20.0),
-- عربي — شهر صفر
(1, 1, 2, 3, 1, 3, 2, '2025-08-15', 'كتابة تقرير عن كتاب',         'قراءة كتاب وكتابة ملخص ناقد',            20.0),
(1, 1, 2, 3, 1, 3, 1, '2025-08-25', 'تمارين بلاغية',              'حل تمارين البلاغة في ص 50-55',           10.0),
-- إنجليزي — شهر محرم
(1, 1, 1, 2, 1, 4, 1, '2025-07-18', 'Write a paragraph about Yemen', 'Write 200 words about your country',     10.0),
(1, 1, 1, 2, 1, 4, 1, '2025-07-26', 'Grammar exercises Unit 1',      'Complete all exercises in Unit 1',        10.0);

-- ═══════════════════════════════════════════════════════════════════════════════
-- القسم 6: رصد واجبات الطلاب (student_homeworks) — 25 سجل
-- ═══════════════════════════════════════════════════════════════════════════════
-- الأعمدة: homework_id, enrollment_id, is_completed, manual_grade, notes
-- ⚡ في الواقع Trigger ينشئ السجلات + submitted_at يُملأ آلياً

INSERT INTO student_homeworks (homework_id, enrollment_id, is_completed, manual_grade, notes) VALUES
-- واجب 1 (رياضيات — حل تمارين الفصل الأول) — 15 طالب
(1, 1,  TRUE,  9.0,  'حل ممتاز ومرتب'),
(1, 2,  TRUE,  7.0,  NULL),
(1, 3,  FALSE, NULL, 'غائب — مريض'),
(1, 4,  TRUE,  6.0,  'تأخر يومين'),
(1, 5,  TRUE,  NULL, 'حل كامل ونموذجي'),
(1, 6,  TRUE,  8.0,  NULL),
(1, 7,  FALSE, NULL, 'لم يسلّم'),
(1, 8,  TRUE,  7.5,  NULL),
(1, 9,  TRUE,  8.5,  'جيد جداً'),
(1, 10, TRUE,  5.0,  'تأخر 3 أيام'),
(1, 11, TRUE,  NULL, 'ممتاز'),
(1, 12, TRUE,  6.5,  NULL),
(1, 13, FALSE, NULL, NULL),
(1, 14, TRUE,  8.0,  NULL),
(1, 15, FALSE, NULL, 'معفى — ظرف عائلي'),
-- واجب 4 (عربي — تحليل قصيدة المتنبي) — عينة من 10 طلاب
(4, 1,  TRUE,  8.0,  'تحليل جيد'),
(4, 2,  TRUE,  9.5,  'ممتازة في الأدب'),
(4, 5,  TRUE,  7.0,  NULL),
(4, 6,  TRUE,  NULL, 'تحليل عميق ورائع'),
(4, 8,  TRUE,  6.0,  NULL),
(4, 9,  TRUE,  7.5,  NULL),
(4, 11, TRUE,  9.0,  NULL),
(4, 12, FALSE, NULL, 'لم يسلّم'),
(4, 14, TRUE,  7.0,  NULL),
(4, 15, TRUE,  5.0,  'ضعيف — حاجة لمراجعة')
ON DUPLICATE KEY UPDATE
    is_completed = VALUES(is_completed),
    manual_grade = VALUES(manual_grade),
    notes = VALUES(notes),
    updated_at = CURRENT_TIMESTAMP;

-- ═══════════════════════════════════════════════════════════════════════════════
-- القسم 7: المحصلات الشهرية (monthly_grades) — 20 سجل
-- ═══════════════════════════════════════════════════════════════════════════════
-- الأعمدة: enrollment_id, subject_id, month_id,
--          attendance_score, homework_score, activity_score, exam_score
-- ⚡ في الواقع تُملأ بـ sp_calculate_monthly_grades

INSERT INTO monthly_grades (enrollment_id, subject_id, month_id, attendance_score, homework_score, activity_score, exam_score) VALUES
-- شهر محرم (month_id = 1) — رياضيات (subject_id = 5)
(1,  5, 1, 4.80, 4.75, 4.50, 18.50),
(2,  5, 1, 5.00, 3.50, 4.00, 15.00),
(3,  5, 1, 0.00, 0.00, 0.00, 0.00),
(4,  5, 1, 4.20, 3.00, 3.50, 12.00),
(5,  5, 1, 4.60, 5.00, 5.00, 19.00),
(6,  5, 1, 4.80, 4.00, 4.00, 16.50),
(7,  5, 1, 3.00, 0.00, 2.50, 8.00),
(8,  5, 1, 4.40, 3.75, 3.50, 14.00),
(9,  5, 1, 4.80, 4.25, 4.00, 17.00),
(10, 5, 1, 3.60, 2.50, 3.00, 11.50),
(11, 5, 1, 5.00, 5.00, 5.00, 20.00),
(12, 5, 1, 4.00, 3.25, 3.50, 13.00),
(13, 5, 1, 2.00, 0.00, 1.50, 0.00),
(14, 5, 1, 4.60, 4.00, 4.00, 16.00),
(15, 5, 1, 3.20, 2.50, 2.50, 9.50),
-- شهر محرم (month_id = 1) — عربي (subject_id = 3)
(1,  3, 1, 4.80, 4.00, 4.50, 17.00),
(2,  3, 1, 5.00, 4.75, 4.50, 18.00),
(5,  3, 1, 4.60, 3.50, 4.00, 16.00),
(6,  3, 1, 4.80, 5.00, 5.00, 19.50),
(11, 3, 1, 5.00, 4.50, 4.50, 17.50);

-- ═══════════════════════════════════════════════════════════════════════════════
-- القسم 8: نتائج الفصل الأول (semester_grades) — 18 سجل
-- ═══════════════════════════════════════════════════════════════════════════════
-- الأعمدة: enrollment_id, subject_id, semester_id,
--          semester_work_total, final_exam_score, grading_status_id
-- ⚠️ semester_total = GENERATED ALWAYS AS (semester_work_total + final_exam_score)

INSERT INTO semester_grades (enrollment_id, subject_id, semester_id, semester_work_total, final_exam_score, grading_status_id) VALUES
-- الفصل الأول (semester_id = 1) — رياضيات (subject_id = 5)
(1,  5, 1, 32.55, 42.00, 3),  -- محمد: 74.55 معتمد
(2,  5, 1, 27.50, 35.00, 3),  -- مريم: 62.50 معتمد
(3,  5, 1, 10.00, 0.00,  3),  -- عمر: غائب الشهر الأول
(4,  5, 1, 22.70, 28.00, 3),  -- خالد: 50.70
(5,  5, 1, 33.60, 45.00, 3),  -- سلمان: 78.60
(6,  5, 1, 29.30, 38.00, 3),  -- نورة: 67.30
(7,  5, 1, 13.50, 15.00, 3),  -- يوسف: 28.50
(8,  5, 1, 25.65, 32.00, 3),  -- فاطمة: 57.65
(9,  5, 1, 30.05, 40.00, 3),  -- أحمد: 70.05
(10, 5, 1, 20.60, 25.00, 3),  -- ليلى: 45.60
(11, 5, 1, 35.00, 48.00, 3),  -- عبدالله: 83.00
(12, 5, 1, 23.75, 30.00, 3),  -- سارة: 53.75
(13, 5, 1, 3.50,  0.00,  3),  -- ياسر: غائب
(14, 5, 1, 28.60, 36.00, 3),  -- هند: 64.60
(15, 5, 1, 17.70, 20.00, 3),  -- طارق: 37.70
-- الفصل الأول — عربي (أمثلة مختارة)
(1,  3, 1, 30.30, 40.00, 3),  -- محمد
(2,  3, 1, 32.25, 43.00, 3),  -- مريم
(11, 3, 1, 31.50, 44.00, 3);  -- عبدالله

-- ═══════════════════════════════════════════════════════════════════════════════
-- القسم 9: نتائج العام (annual_grades) — 15 سجل
-- ═══════════════════════════════════════════════════════════════════════════════
-- الأعمدة: enrollment_id, subject_id, academic_year_id,
--          semester1_total, semester2_total, annual_percentage, final_status_id
-- ⚠️ annual_total = GENERATED ALWAYS AS (semester1_total + semester2_total)

INSERT INTO annual_grades (enrollment_id, subject_id, academic_year_id, semester1_total, semester2_total, annual_percentage, final_status_id) VALUES
-- رياضيات (subject_id = 5)
(1,  5, 1, 74.55, 78.00, 76.28, 1),  -- محمد: ناجح
(2,  5, 1, 62.50, 65.00, 63.75, 1),  -- مريم: ناجح
(3,  5, 1, 10.00, 35.00, 22.50, 2),  -- عمر: راسب
(4,  5, 1, 50.70, 55.00, 52.85, 1),  -- خالد: ناجح
(5,  5, 1, 78.60, 80.00, 79.30, 1),  -- سلمان: ناجح
(6,  5, 1, 67.30, 70.00, 68.65, 1),  -- نورة: ناجح
(7,  5, 1, 28.50, 30.00, 29.25, 2),  -- يوسف: راسب
(8,  5, 1, 57.65, 60.00, 58.83, 1),  -- فاطمة: ناجح
(9,  5, 1, 70.05, 72.00, 71.03, 1),  -- أحمد: ناجح
(10, 5, 1, 45.60, 48.00, 46.80, 2),  -- ليلى: راسب
(11, 5, 1, 83.00, 85.00, 84.00, 1),  -- عبدالله: ناجح
(12, 5, 1, 53.75, 56.00, 54.88, 1),  -- سارة: ناجح
(13, 5, 1, 3.50,  10.00, 6.75,  4),  -- ياسر: محروم
(14, 5, 1, 64.60, 68.00, 66.30, 1),  -- هند: ناجح
(15, 5, 1, 37.70, 42.00, 39.85, 2);  -- طارق: راسب

-- ═══════════════════════════════════════════════════════════════════════════════
-- القسم 10: النتيجة النهائية الشاملة (annual_result) — 15 سجل
-- ═══════════════════════════════════════════════════════════════════════════════
-- الأعمدة: enrollment_id, academic_year_id, total_all_subjects,
--          max_possible_total, percentage, rank_in_class, rank_in_grade,
--          passed_subjects_count, failed_subjects_count,
--          promotion_decision_id, notes

INSERT INTO annual_result (enrollment_id, academic_year_id, total_all_subjects, max_possible_total, percentage, rank_in_class, rank_in_grade, passed_subjects_count, failed_subjects_count, promotion_decision_id, notes) VALUES
(1,  1, 1515.85, 1800.00, 84.21, 1,  1,  9, 0, 1, 'طالب متميز — المركز الأول'),
(2,  1, 680.00, 900.00, 75.56, 5,  9,  9, 0, 1, NULL),
(3,  1, 350.00, 900.00, 38.89, 13, 25, 5, 4, 2, 'يعيد السنة — 4 مواد راسب'),
(4,  1, 560.00, 900.00, 62.22, 8,  14, 8, 1, 4, 'مكمل في مادة واحدة'),
(5,  1, 760.00, 900.00, 84.44, 2,  3,  9, 0, 1, 'متفوق'),
(6,  1, 650.00, 900.00, 72.22, 6,  10, 9, 0, 1, NULL),
(7,  1, 380.00, 900.00, 42.22, 12, 23, 4, 5, 2, 'يعيد — 5 مواد راسب'),
(8,  1, 600.00, 900.00, 66.67, 7,  12, 9, 0, 1, NULL),
(9,  1, 710.00, 900.00, 78.89, 4,  7,  9, 0, 1, 'جيد جداً'),
(10, 1, 480.00, 900.00, 53.33, 10, 18, 6, 3, 2, 'يعيد — 3 مواد راسب'),
(11, 1, 810.00, 900.00, 90.00, 1,  1,  9, 0, 1, '🏆 الأول على المدرسة!'),
(12, 1, 530.00, 900.00, 58.89, 9,  16, 7, 2, 4, 'مكمل في مادتين'),
(13, 1, 180.00, 900.00, 20.00, 15, 30, 2, 7, 2, 'يعيد — محروم بالغياب'),
(14, 1, 640.00, 900.00, 71.11, 6,  11, 9, 0, 1, NULL),
(15, 1, 420.00, 900.00, 46.67, 11, 20, 5, 4, 2, 'يعيد — 4 مواد راسب');

-- ═══════════════════════════════════════════════════════════════════════════════
-- القسم 11: تحضير الدروس (lesson_preparation) — 10 سجلات
-- ═══════════════════════════════════════════════════════════════════════════════
-- الأعمدة: created_by, subject_id, classroom_id, prep_date,
--          lesson_title, objectives, strategies, aids, is_approved

INSERT INTO lesson_preparation (created_by, subject_id, classroom_id, prep_date, lesson_title, objectives, strategies, aids, is_approved) VALUES
(2, 5, 1, '2025-07-06', 'مقدمة في المعادلات الخطية',    'فهم مفهوم المعادلة — حل معادلة بمجهول واحد', 'حل أمثلة على السبورة — عمل مجموعات', 'أسئلة شفهية + واجب | حل ص 15', FALSE),
(2, 5, 1, '2025-07-07', 'حل المعادلات من الدرجة الأولى', 'حل معادلات بخطوات متعددة — التحقق من الحل', 'تمارين فردية — مسابقة سريعة',        'اختبار قصير | حل ص 18', FALSE),
(2, 5, 1, '2025-07-08', 'تطبيقات على المعادلات',        'ترجمة مسائل لفظية إلى معادلات',             'عمل جماعي — عرض حلول',               'عرض المشاريع', FALSE),
(3, 3, 1, '2025-07-06', 'النحو: المبتدأ والخبر',         'التمييز بين المبتدأ والخبر — أنواع الخبر',   'شرح + أمثلة + تمارين إعرابية',       'إعراب جمل | حل ص 22', FALSE),
(3, 3, 1, '2025-07-07', 'الأدب: قصيدة المتنبي',          'حفظ الأبيات 1-10 — فهم المعاني',            'قراءة جهرية — مناقشة المعاني',       'حفظ شفهي', FALSE),
(3, 3, 2, '2025-07-06', 'النحو: المبتدأ والخبر',         'نفس أهداف الشعبة أ',                         'نفس الأنشطة',                        'إعراب جمل | حل ص 22 | شعبة ب', FALSE),
(2, 5, 2, '2025-07-06', 'مقدمة في المعادلات الخطية',    'فهم مفهوم المعادلة — حل معادلة بمجهول واحد', 'حل أمثلة على السبورة',               'أسئلة شفهية | حل ص 15 | شعبة ب', FALSE),
(2, 5, 1, '2025-07-13', 'المتباينات الخطية',             'حل متباينات — تمثيل الحل على خط الأعداد',   'تمارين + رسم بياني',                'واجب + اختبار قصير | حل ص 25', FALSE),
(2, 5, 1, '2025-07-14', 'أنظمة المعادلات',               'حل نظام من معادلتين بطريقة الحذف',          'حل أمثلة + عمل ثنائي',               'حل تمارين', FALSE),
(3, 3, 1, '2025-07-13', 'البلاغة: التشبيه والاستعارة',   'التفريق بين التشبيه والاستعارة',            'استخراج صور بلاغية من نصوص',         'تمارين بلاغية | حل ص 30', FALSE);

-- ═══════════════════════════════════════════════════════════════════════════════
-- القسم 12: سجل تدقيق الدرجات (student_grade_audit) — 10 سجلات
-- ═══════════════════════════════════════════════════════════════════════════════
-- الأعمدة: enrollment_id, subject_id, grade_table, grade_field,
--          old_value, new_value, changed_by_user_id, change_reason

INSERT INTO student_grade_audit (enrollment_id, subject_id, grade_table, grade_field, old_value, new_value, changed_by_user_id, change_reason) VALUES
(1,  5, 'student_exam_scores', 'score',            17.00, 18.50, 2, 'تصحيح خطأ في تصحيح السؤال 3'),
(4,  5, 'student_exam_scores', 'score',            10.00, 12.00, 2, 'مراجعة الورقة بناء على طلب الطالب'),
(1,  5, 'monthly_grades',      'attendance_score',  4.00,  4.80,  2, 'تحديث آلي بعد تعديل الحضور'),
(1,  5, 'monthly_grades',      'exam_score',        17.00, 18.50, 2, 'تعديل بعد مراجعة الاختبار'),
(7,  5, 'student_exam_scores', 'score',             6.00,  8.00,  2, 'مراجعة ورقة الامتحان'),
(11, 5, 'monthly_grades',      'exam_score',        19.50, 20.00, 2, 'تصحيح سؤال إضافي'),
(2,  3, 'monthly_grades',      'attendance_score',  3.00,  5.00,  1, 'تحديث آلي من نظام الحضور'),
(6,  3, 'student_exam_scores', 'score',            18.00, 19.50, 3, 'إعادة تصحيح'),
(13, 5, 'semester_grades',     'semester_work_total', 5.00, 3.50, 1, 'إعادة حساب بعد خصم الغياب'),
(3,  5, 'annual_grades',       'semester1_total',    15.00, 10.00, 1, 'تصحيح بعد اكتشاف خطأ في الفصل الأول');

-- ═══════════════════════════════════════════════════════════════════════════════
-- القسم 13: 🆕 ربط الفترات بجلسات اللجان (exam_session_periods) — 4 سجلات
-- ═══════════════════════════════════════════════════════════════════════════════
-- الأعمدة: exam_session_id, exam_period_id, notes, created_by
-- يفترض وجود exam_sessions في System 08: id=1..4

INSERT INTO exam_session_periods (exam_session_id, exam_period_id, notes, created_by) VALUES
(1, 4, 'ربط اختبار نهاية الفصل الأول باللجنة النهائية',     1),
(2, 1, 'ربط اختبار شهر محرم بلجنة الاختبارات الشهرية 1',    1),
(3, 2, 'ربط اختبار شهر صفر بلجنة الاختبارات الشهرية 2',     1),
(4, 3, 'ربط اختبار شهر ربيع الأول بلجنة الاختبارات الشهرية 3', 1);

-- ═══════════════════════════════════════════════════════════════════════════════
-- القسم 14: 🆕 بيانات تفصيلية للطالب رقم 1 (محمد أحمد) — جميع المواد (9 مواد)
-- ═══════════════════════════════════════════════════════════════════════════════
-- شهر محرم: مواظبة (5) + واجبات (5) + نشاط (5) + اختبار (20) = 35

-- 14.1 محصلات شهرية إضافية (باقي الـ 7 مواد التي لم تضف)
INSERT INTO monthly_grades (enrollment_id, subject_id, month_id, attendance_score, homework_score, activity_score, exam_score) VALUES
(1, 1,  1, 5.00, 5.00, 5.00, 20.00), -- قرآن: 35 كاملة
(1, 2,  1, 4.80, 5.00, 4.50, 19.50), -- إسلامية: 33.8
(1, 4,  1, 5.00, 4.50, 4.50, 18.00), -- إنجليزي: 32.0 (أضيفت سابقاً فقط جزء من جدول الواجبات)
(1, 6,  1, 4.60, 4.50, 4.00, 17.50), -- علوم: 30.6
(1, 7,  1, 5.00, 4.00, 4.00, 16.00), -- فيزياء: 29.0
(1, 10, 1, 5.00, 5.00, 5.00, 19.00), -- اجتماعيات: 34.0
(1, 14, 1, 5.00, 5.00, 5.00, 20.00); -- حاسوب: 35 كاملة

-- 14.2 نتائج الفصل الأول (باقي الـ 7 مواد)
-- semester_grades: semester_work_total (max 50) + final_exam_score (max 50)
-- ⚠️ رياضيات (5) وعربي (3) أضيفت في القسم 8

INSERT INTO semester_grades (enrollment_id, subject_id, semester_id, semester_work_total, final_exam_score, grading_status_id) VALUES
(1, 1,  1, 48.00, 49.00, 3), -- قرآن: 97
(1, 2,  1, 45.00, 46.00, 3), -- إسلامية: 91
(1, 4,  1, 40.00, 42.00, 3), -- إنجليزي: 82
(1, 6,  1, 38.00, 40.00, 3), -- علوم: 78
(1, 7,  1, 35.00, 35.00, 3), -- فيزياء: 70
(1, 10, 1, 42.00, 45.00, 3), -- اجتماعيات: 87
(1, 14, 1, 48.00, 50.00, 3); -- حاسوب: 98 (ممتاز جداً)

-- 14.3 نتائج السنة (annual_grades) — باقي الـ 7 مواد + محاكاة لفصل ثاني وهمي
-- annual_grades: sem1 + sem2 = annual_total
-- رياضيات (5) أضيفت في القسم 9

INSERT INTO annual_grades (enrollment_id, subject_id, academic_year_id, semester1_total, semester2_total, annual_percentage, final_status_id) VALUES
(1, 3,  1, 70.30, 75.00, 72.65, 1), -- عربي: 145.30
(1, 1,  1, 97.00, 98.00, 97.50, 1), -- قرآن: 195.00
(1, 2,  1, 91.00, 93.00, 92.00, 1), -- إسلامية: 184.00
(1, 4,  1, 82.00, 85.00, 83.50, 1), -- إنجليزي: 167.00
(1, 6,  1, 78.00, 80.00, 79.00, 1), -- علوم: 158.00
(1, 7,  1, 70.00, 72.00, 71.00, 1), -- فيزياء: 142.00
(1, 10, 1, 87.00, 88.00, 87.50, 1), -- اجتماعيات: 175.00
(1, 14, 1, 98.00, 99.00, 98.50, 1); -- حاسوب: 197.00

-- المجموع الكلي (9 مواد × 200 = 1800)
-- 152.55 (رياضيات) + 145.30 (عربي) + 195 (قرآن) + 184 (إسلامية) + 167 (إنجليزي) + 158 (علوم) + 142 (فيزياء) + 175 (اجتماعيات) + 197 (حاسوب)
-- المجموع = 1,515.85 من 1,800
-- النسبة = 84.21%

-- ═══════════════════════════════════════════════════════════════════════════════
-- ملخص البيانات التجريبية
-- ═══════════════════════════════════════════════════════════════════════════════
-- grading_policies:       15 سجل
-- exam_periods:            6 سجلات
-- exam_schedules:         18 سجل
-- student_exam_scores:    30 سجل
-- homeworks:              12 سجل
-- student_homeworks:      25 سجل
-- monthly_grades:         27 سجل (إضافة 7 سجلات للطالب 1)
-- semester_grades:        25 سجل (إضافة 7 سجلات للطالب 1)
-- annual_grades:          23 سجل (إضافة 8 سجلات للطالب 1)
-- annual_result:          15 سجل (محدثة)
-- lesson_preparation:     10 سجلات
-- student_grade_audit:    10 سجلات
-- exam_session_periods:    4 سجلات
-- ─────────────────────────────────────────
-- المجموع الكلي:         220 سجل

SELECT '✅ تم إدراج البيانات التجريبية الشاملة بنجاح!' AS message;
SELECT CONCAT('📊 إجمالي السجلات: 220 سجل في 13 جدول') AS summary;
