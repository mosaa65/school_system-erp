# ๐ ุงูุชูุงุฑูุฑ ูุงูุงุณุชุนูุงูุงุช (Reports & Queries)
## DDL_REPORTS โ Monthly Report Cards

---

## ๐ ุจุทุงูุฉ ุงูููู
| ุงูุจูุฏ | ุงููููุฉ |
|-------|--------|
| **ุงูููู** | `DDL_REPORTS.sql` |
| **ุงูุฅุตุฏุงุฑ** | v1.0 |
| **ุงูููููุงุช** | 2 Views + 1 Function |
| **ุงูุบุฑุถ** | ุงุณุชุฎุฑุงุฌ ูุดู ุฏุฑุฌุงุช ุดูุฑู ูุทุงุจู ููููุงุฐุฌ ุงูุฑุณููุฉ |

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู (Usage Guide)

### 1๏ธโฃ ุงุณุชุฎุฑุงุฌ ุฌุฏูู ุฏุฑุฌุงุช ุงูููุงุฏ (Monthly Report Card)
ูุฐุง ุงูุงุณุชุนูุงู ูุนุทูู ุงูุฌุฏูู ุงูุฑุฆูุณู ูู ุงูุดูุงุฏุฉ (ุงููุงุฏุฉุ ุชูุงุตูู ุงูุฏุฑุฌุงุชุ ุงููุฌููุนุ ุงูุชูุฏูุฑ).

```sql
SELECT 
    subject_name AS 'ุงููุงุฏุฉ',
    report_attendance AS 'ููุงุธุจุฉ', 
    report_homework AS 'ูุงุฌุจุงุช', 
    report_activity AS 'ุดููู', 
    report_exam AS 'ุชุญุฑูุฑู', 
    report_total AS 'ุงููุฌููุน', 
    report_grade_desc AS 'ุงูุชูุฏูุฑ'
FROM v_rpt_monthly_subject_details
WHERE enrollment_id = 1  -- ุฑูู ุงูุทุงูุจ
  AND month_id = 1;      -- ุฑูู ุงูุดูุฑ (1=ูุญุฑู)
ORDER BY order_index ASC;
```

#### ๐ ูุซุงู ูููุชูุฌุฉ:
| ุงููุงุฏุฉ | ููุงุธุจุฉ | ูุงุฌุจุงุช | ุดููู | ุชุญุฑูุฑู | ุงููุฌููุน | ุงูุชูุฏูุฑ |
|--------|--------|--------|------|--------|---------|---------|
| ุงููุฑุขู ุงููุฑูู | 5.00 | 5.00 | 5.00 | 20.00 | **35.00** | ููุชุงุฒ |
| ุงูุฑูุงุถูุงุช | 4.80 | 4.75 | 4.50 | 18.50 | **32.55** | ููุชุงุฒ |

---

### 2๏ธโฃ ุงุณุชุฎุฑุงุฌ ููุฎุต ุงูุทุงูุจ (Student Summary Box)
ูุฐุง ุงูุงุณุชุนูุงู ูุนุทูู ุงูุจูุงูุงุช ูู ุฃุณูู ุงูุดูุงุฏุฉ (ุงููุฌููุน ุงููููุ ุงููุณุจุฉุ ุงูุชุฑุชูุจ).

```sql
SELECT 
    student_total_score AS 'ุงููุฌููุน ุงูููู', 
    student_max_score AS 'ูู ุฃุตู', 
    CONCAT(ROUND(student_percentage, 1), '%') AS 'ุงููุณุจุฉ', 
    rank_in_class AS 'ุงูุชุฑุชูุจ ุนูู ุงููุตู'
FROM v_rpt_monthly_student_summary
WHERE enrollment_id = 1 
  AND month_id = 1;
```

#### ๐ ูุซุงู ูููุชูุฌุฉ:
| ุงููุฌููุน ุงูููู | ูู ุฃุตู | ุงููุณุจุฉ | ุงูุชุฑุชูุจ ุนูู ุงููุตู |
|---------------|--------|--------|-------------------|
# ๐ ุงูุชูุงุฑูุฑ ูุงูุงุณุชุนูุงูุงุช (Reports & Queries)
## DDL_REPORTS โ Monthly Report Cards

---

## ๐ ุจุทุงูุฉ ุงูููู
| ุงูุจูุฏ | ุงููููุฉ |
|-------|--------|
| **ุงูููู** | `DDL_REPORTS.sql` |
| **ุงูุฅุตุฏุงุฑ** | v1.0 |
| **ุงูููููุงุช** | 2 Views + 1 Function |
| **ุงูุบุฑุถ** | ุงุณุชุฎุฑุงุฌ ูุดู ุฏุฑุฌุงุช ุดูุฑู ูุทุงุจู ููููุงุฐุฌ ุงูุฑุณููุฉ |

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู (Usage Guide)

### 1๏ธโฃ ุงุณุชุฎุฑุงุฌ ุฌุฏูู ุฏุฑุฌุงุช ุงูููุงุฏ (Monthly Report Card)
ูุฐุง ุงูุงุณุชุนูุงู ูุนุทูู ุงูุฌุฏูู ุงูุฑุฆูุณู ูู ุงูุดูุงุฏุฉ (ุงููุงุฏุฉุ ุชูุงุตูู ุงูุฏุฑุฌุงุชุ ุงููุฌููุนุ ุงูุชูุฏูุฑ).

```sql
SELECT 
    subject_name AS 'ุงููุงุฏุฉ',
    report_attendance AS 'ููุงุธุจุฉ', 
    report_homework AS 'ูุงุฌุจุงุช', 
    report_activity AS 'ุดููู', 
    report_exam AS 'ุชุญุฑูุฑู', 
    report_total AS 'ุงููุฌููุน', 
    report_grade_desc AS 'ุงูุชูุฏูุฑ'
FROM v_rpt_monthly_subject_details
WHERE enrollment_id = 1  -- ุฑูู ุงูุทุงูุจ
  AND month_id = 1;      -- ุฑูู ุงูุดูุฑ (1=ูุญุฑู)
ORDER BY order_index ASC;
```

#### ๐ ูุซุงู ูููุชูุฌุฉ:
| ุงููุงุฏุฉ | ููุงุธุจุฉ | ูุงุฌุจุงุช | ุดููู | ุชุญุฑูุฑู | ุงููุฌููุน | ุงูุชูุฏูุฑ |
|--------|--------|--------|------|--------|---------|---------|
| ุงููุฑุขู ุงููุฑูู | 5.00 | 5.00 | 5.00 | 20.00 | **35.00** | ููุชุงุฒ |
| ุงูุฑูุงุถูุงุช | 4.80 | 4.75 | 4.50 | 18.50 | **32.55** | ููุชุงุฒ |

---

### 2๏ธโฃ ุงุณุชุฎุฑุงุฌ ููุฎุต ุงูุทุงูุจ (Student Summary Box)
ูุฐุง ุงูุงุณุชุนูุงู ูุนุทูู ุงูุจูุงูุงุช ูู ุฃุณูู ุงูุดูุงุฏุฉ (ุงููุฌููุน ุงููููุ ุงููุณุจุฉุ ุงูุชุฑุชูุจ).

```sql
SELECT 
    student_total_score AS 'ุงููุฌููุน ุงูููู', 
    student_max_score AS 'ูู ุฃุตู', 
    CONCAT(ROUND(student_percentage, 1), '%') AS 'ุงููุณุจุฉ', 
    rank_in_class AS 'ุงูุชุฑุชูุจ ุนูู ุงููุตู'
FROM v_rpt_monthly_student_summary
WHERE enrollment_id = 1 
  AND month_id = 1;
```

#### ๐ ูุซุงู ูููุชูุฌุฉ:
| ุงููุฌููุน ุงูููู | ูู ุฃุตู | ุงููุณุจุฉ | ุงูุชุฑุชูุจ ุนูู ุงููุตู |
|---------------|--------|--------|-------------------|
| 315.00 | 350.00 | 90.0% | 1 |

---

## ๐ง ุงูููููุงุช ุงูุชูููุฉ

### Function: `fn_get_grade_description`
- **ุงููุฏุฎู:** ูุณุจุฉ ูุฆููุฉ (ูุซูุงู 95.5)
- **ุงููุฎุฑุฌ:** ูุต (ูุซูุงู "ููุชุงุฒ")
- **ุทุฑููุฉ ุงูุนูู (v4.0):**
  - ุชุณุชุนูู ูู ุฌุฏูู `lookup_grade_descriptions` ุจุฏูุงู ูู ุงูููู ุงูุซุงุจุชุฉ.
  - ูุฐุง ูุณูุญ ูููุฏุฑุณุฉ ุจุชุฎุตูุต ูุณููุงุช ุงูุชูุฏูุฑุงุช ููุทุงูุงุชูุง ุฏูู ุชุนุฏูู ุงูููุฏ.

### View: `v_rpt_monthly_subject_details`
- ูุฏูุฌ ุจูุงูุงุช `monthly_grades` ูุน `grading_policies` ูุญุณุงุจ ุงูุชูุฏูุฑ.
- ูุชุนุงูู ูุน ุงูููู ุงููุงุฑุบุฉ (`NULL`) ููุญูููุง ูุตูุฑ.
- ูุนูุฏ ูุฐูู `report_max_score` ู`order_index` ูุชุณููู ุชุฑุชูุจ ุงูููุงุฏ ูุญุณุงุจ ุงููุณุจุฉ.

### View: `v_rpt_monthly_student_summary`
- ูููู ุจุชุฌููุน ุงูุฏุฑุฌุงุช (`SUM`) ูุฌููุน ููุงุฏ ุงูุทุงูุจ.
- ูุญุณุจ ุงูุชุฑุชูุจ (`RANK()`) ุจูุงุกู ุนูู ุงููุฌููุน ููุงุฑูุฉ ุจุจููุฉ ุทูุงุจ ููุณ ุงููุตู.
- ูุนูุฏ ูุฐูู `total_days_recorded` ูุนุฏุฏ ุฃูุงู ุญุถูุฑ ูุณุฌูุฉ ููุดูุฑ.

---

**ุชู ุงูุชุญุฏูุซ:** 2026-02-19 (v4.0)
