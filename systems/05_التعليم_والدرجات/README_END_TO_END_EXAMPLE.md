# ðŸ§­ Ø´Ø±Ø­ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ù…Ù† Ø§Ù„Ø£Ù„Ù Ù„Ù„ÙŠØ§Ø¡ (Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø¹Ù…Ù„ÙŠ v4.0)
## End-to-End Walkthrough with 10 Base Records

---

## ðŸŽ¯ Ø§Ù„Ù‡Ø¯Ù
Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù ÙŠØ´Ø±Ø­ Ø¯ÙˆØ±Ø© Ø§Ù„Ù†Ø¸Ø§Ù… ÙƒØ§Ù…Ù„Ø© Ø¨Ø´ÙƒÙ„ Ø¹Ù…Ù„ÙŠ (v4.0):
1. Ù…Ù† ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø³ÙŠØ§Ø³Ø©.
2. Ø¥Ù„Ù‰ Ø±ØµØ¯ Ø§Ù„ÙˆØ§Ø¬Ø¨ (System 05) ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø± (System 08 + 05).
3. Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø­ØµÙ„Ø© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©.
4. Ø¥Ù„Ù‰ Ù†ØªÙŠØ¬Ø© Ø§Ù„ÙØµÙ„.
5. Ø¥Ù„Ù‰ Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¹Ø§Ù… ÙˆÙ‚Ø±Ø§Ø± Ø§Ù„Ù†Ù‚Ù„.

> Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¹Ø¯Ø¯ **Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©** ÙÙŠ Ø§Ù„Ù…Ø«Ø§Ù„ = **10** ÙÙ‚Ø·ØŒ ÙˆÙ…Ø§ Ø¨Ø¹Ø¯Ù‡Ø§ Ù†ÙˆØ§ØªØ¬ Ø­Ø³Ø§Ø¨ Ø¢Ù„ÙŠ.

---

## 1) Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (10 Ø³Ø¬Ù„Ø§Øª)

### 1.1 Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø¯Ø±Ø¬Ø§Øª (Ø³Ø¬Ù„ 1)
ÙÙŠ v4.0ØŒ Ù†Ø³ØªØ®Ø¯Ù… `exam_type_id` (1 Ù„Ù„Ø´Ù‡Ø±ÙŠ) Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† ENUM.

| id | academic_year_id | grade_level_id | subject_id | exam_type_id | max_exam | max_hw | max_att | max_act | passing |
|----|------------------|----------------|------------|--------------|----------|--------|---------|---------|---------|
| 1 | 1 | 1 | 1 (Ø±ÙŠØ§Ø¶ÙŠØ§Øª) | 1 (MONTHLY) | 20.00 | 5.00 | 5.00 | 5.00 | 50.00 |

### 1.2 ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ ÙÙŠ Ø§Ù„ÙØµÙ„ (Ø³Ø¬Ù„Ø§Ù† 2-3)
| enrollment_id | student_id | classroom_id | is_active |
|---------------|------------|--------------|-----------|
| 501 | 101 (Ù…Ø­Ù…Ø¯) | 1 | TRUE |
| 502 | 102 (Ù…Ø±ÙŠÙ…) | 1 | TRUE |

### 1.3 ÙØªØ±Ø© Ø§Ù…ØªØ­Ø§Ù†ÙŠØ© System 05 (Ø³Ø¬Ù„ 4)
| id | academic_year_id | semester_id | name | exam_type_id | start_date | end_date | status_id |
|----|------------------|-------------|------|--------------|------------|----------|-----------|
| 11 | 1 | 1 | Ø§Ø®ØªØ¨Ø§Ø± Ø´Ù‡Ø± Ù…Ø­Ø±Ù… | 1 | 2026-09-10 | 2026-09-20 | 2 (SCHEDULING) |

### 1.4 Ø¬Ø¯ÙˆÙ„ Ø§Ø®ØªØ¨Ø§Ø± System 08 (Ø³Ø¬Ù„ 5)
Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© ØªØªÙ… Ø§Ù„Ø¢Ù† ÙÙŠ `exam_timetable` ÙÙŠ System 08.

| id | exam_period_id | subject_id | grade_level_id | exam_date | time_slot_id | max_score |
|----|----------------|------------|----------------|-----------|--------------|-----------|
| 101 | 11 | 1 (Ø±ÙŠØ§Ø¶ÙŠØ§Øª) | 1 | 2026-09-15 | 1 (8:00-10:00) | 20.00 |

### 1.5 ÙˆØ§Ø¬Ø¨ Ù…Ù†Ø²Ù„ÙŠ System 05 (Ø³Ø¬Ù„ 6)
| homework_id | month_id | classroom_id | subject_id | title | max_grade |
|-------------|----------|--------------|------------|-------|-----------|
| 31 | 1 | 1 | 1 (Ø±ÙŠØ§Ø¶ÙŠØ§Øª) | Ø­Ù„ ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„Ø¨Ø§Ø¨ Ø§Ù„Ø£ÙˆÙ„ | 5.0 |

### 1.6 Ø±ØµØ¯ Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª Ù„Ù„Ø·Ù„Ø§Ø¨ (Ø³Ø¬Ù„Ø§Ù† 7-8)
| student_homework_id | homework_id | enrollment_id | is_completed | manual_grade | submitted_at |
|---------------------|-------------|---------------|--------------|--------------|--------------|
| 41 | 31 | 501 | TRUE | NULL | 2026-09-18 |
| 42 | 31 | 502 | FALSE | NULL | NULL |

### 1.7 Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ù„Ù„Ø·Ù„Ø§Ø¨ System 05 (Ø³Ø¬Ù„Ø§Ù† 9-10)
ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§ Ø¢Ù„ÙŠØ§Ù‹ØŒ ÙˆØ§Ù„Ù…Ø¹Ù„Ù… Ù‚Ø§Ù… Ø¨Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ (UPDATE):

| id | exam_timetable_id | enrollment_id | score | is_present | absence_type |
|----|-------------------|---------------|-------|------------|--------------|
| 51 | 101 | 501 | 18.00 | TRUE | NULL |
| 52 | 101 | 502 | 12.00 | TRUE | NULL |

---

## 2) Ù…Ø§Ø°Ø§ ÙŠØ¹Ù…Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§ Ø¨Ø¹Ø¯ Ù‡Ø°Ù‡ Ø§Ù„Ø³Ø¬Ù„Ø§ØªØŸ

1. **Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ `homeworks`:**  
   `trg_homework_auto_populate` ÙŠØ³ØªØ¯Ø¹ÙŠ `sp_populate_student_homeworks` Ù„Ø±ØµØ¯ Ø§Ù„Ø·Ù„Ø§Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§.

2. **Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ `exam_timetable` (System 08):**  
   ÙŠØ³ØªØ¯Ø¹ÙŠ `sp_populate_exam_scores` Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¯Ø±Ø¬Ø§Øª Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ© Ù„ÙƒÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ ÙÙŠ `student_exam_scores` (System 05).

3. **Ø¹Ù†Ø¯ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø´Ù‡Ø±:**  
   `sp_calculate_monthly_grades(month_id, subject_id, classroom_id)` ÙŠØ­Ø³Ø¨:
   - `attendance_score` Ù…Ù† Ø§Ù„Ø­Ø¶ÙˆØ± (System 04)
   - `homework_score` Ù…Ù† `v_homework_effective_grade`
   - `exam_score` Ù…Ù† `student_exam_scores`
   - ÙˆÙŠØ­ÙØ¸ ÙÙŠ `monthly_grades`

4. **Ø¹Ù†Ø¯ Ø­Ø³Ø§Ø¨ Ø§Ù„ÙØµÙ„:**  
   `sp_calculate_semester_totals` ÙŠØ¬Ù…Ø¹ Ø§Ù„Ù…Ø­ØµÙ„Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ© Ù„ÙƒÙ„ Ù…Ø§Ø¯Ø©/Ø·Ø§Ù„Ø¨ ÙÙŠ `semester_grades`.

5. **Ø¹Ù†Ø¯ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ø§Ù…:**  
   `sp_calculate_annual_results` ÙŠÙ†ØªØ¬ `annual_grades` Ø«Ù… `annual_result` (Ø§Ù„Ù†Ø³Ø¨Ø© + Ø§Ù„ØªØ±ØªÙŠØ¨ + Ù‚Ø±Ø§Ø± Ø§Ù„Ù†Ù‚Ù„).

---

## 3) Ù†Ø§ØªØ¬ Ø§Ù„Ø´Ù‡Ø± (Ù…Ø«Ø§Ù„ ÙØ¹Ù„ÙŠ)

### 3.1 Ø§ÙØªØ±Ø§Ø¶ Ø§Ù„Ø­Ø¶ÙˆØ± Ù…Ù† System 04
| enrollment_id | attendance_percentage | max_attendance_score | attendance_score |
|---------------|-----------------------|----------------------|------------------|
| 501 | 96% | 5.00 | 4.80 |
| 502 | 80% | 5.00 | 4.00 |

### 3.2 Ø¯Ø±Ø¬Ø© Ø§Ù„ÙˆØ§Ø¬Ø¨ Ø§Ù„ÙØ¹Ù„ÙŠØ©
| enrollment_id | is_completed | max_grade | manual_grade | effective_grade |
|---------------|--------------|-----------|--------------|-----------------|
| 501 | TRUE | 5.0 | NULL | 5.0 |
| 502 | FALSE | 5.0 | NULL | 0.0 |

### 3.3 Ø¬Ø¯ÙˆÙ„ `monthly_grades` (Ù†Ø§ØªØ¬ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡)
| enrollment_id | subject_id | month_id | attendance | homework | activity | contribution | exam | monthly_total |
|---------------|------------|----------|------------|----------|----------|--------------|------|---------------|
| 501 | 1 | 1 | 4.80 | 5.00 | 4.50 | 0.00 | 18.00 | 32.30 |
| 502 | 1 | 1 | 4.00 | 0.00 | 4.00 | 0.00 | 12.00 | 20.00 |

> Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©:  
> `monthly_total = attendance + homework + activity + contribution + custom + exam`

---

## 4) Ù†Ø§ØªØ¬ Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ (Ù…Ø«Ø§Ù„)

Ù†ÙØªØ±Ø¶ Ø£Ù† Ù…Ø¬Ù…ÙˆØ¹ Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ÙØµÙ„ ØªÙ… Ø­Ø³Ø§Ø¨Ù‡ Ø«Ù… ØªÙ… ØªØ±Ø­ÙŠÙ„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ:

| enrollment_id | subject_id | semester_work_total | final_exam_score | semester_total |
|---------------|------------|---------------------|------------------|----------------|
| 501 | 1 | 19.50 | 12.00 | 31.50 |
| 502 | 1 | 13.00 | 8.00 | 21.00 |

---

## 5) Ù†Ø§ØªØ¬ Ø§Ù„Ø¹Ø§Ù… ÙˆÙ‚Ø±Ø§Ø± Ø§Ù„Ù†Ù‚Ù„ (Ù…Ø«Ø§Ù„)

### 5.1 `annual_grades`
| enrollment_id | semester1_total | semester2_total | annual_total | annual_percentage | final_status |
|---------------|-----------------|-----------------|-------------|-------------------|-------------|
| 501 | 31.50 | 30.50 | 62.00 | 88.57% | PASS |
| 502 | 21.00 | 24.00 | 45.00 | 64.29% | PASS |

### 5.2 `annual_result`
| enrollment_id | total | percentage | rank | passed_subjects | failed_subjects | promotion_decision |
|---------------|-------|------------|------|-----------------|-----------------|-------------------|
| 501 | 62.00 | 88.57% | 1 | 1 | 0 | PROMOTED |
| 502 | 45.00 | 64.29% | 2 | 1 | 0 | PROMOTED |

---

## 6) ÙƒÙŠÙ ÙŠØ·Ù„Ø¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù„Ù„Ø·Ø§Ù„Ø¨ØŸ

Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø´Ù‡Ø±ÙŠ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰:
- `v_rpt_monthly_subject_details` (ØªÙØµÙŠÙ„ Ø§Ù„Ù…Ø§Ø¯Ø©)
- `lookup_grade_descriptions` (ÙˆØµÙ Ø§Ù„ØªÙ‚Ø¯ÙŠØ± - **Ù…Ø­Ø¯Ø« v4.0**)

Ù…Ø«Ø§Ù„ Ø´ÙƒÙ„ Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø·Ø§Ù„Ø¨ Ù…Ø­Ù…Ø¯ ÙÙŠ Ø§Ù„Ø´Ù‡Ø±:

| Ø§Ù„Ù…Ø§Ø¯Ø© | Ù…ÙˆØ§Ø¸Ø¨Ø© | ÙˆØ§Ø¬Ø¨Ø§Øª | Ù†Ø´Ø§Ø· | Ø§Ø®ØªØ¨Ø§Ø± | Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ | Ø§Ù„ØªÙ‚Ø¯ÙŠØ± |
|--------|--------|--------|------|--------|---------|---------|
| Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª | 4.80 | 5.00 | 4.50 | 18.00 | 32.30 | Ù…Ù…ØªØ§Ø² |

---

## âœ… Ø§Ù„Ø®Ù„Ø§ØµØ© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
Ø¥Ø°Ø§ ÙÙ‡Ù…Øª Ù‡Ø°Ø§ Ø§Ù„ØªØ³Ù„Ø³Ù„ØŒ ÙØ£Ù†Øª ÙÙ‡Ù…Øª Ø§Ù„Ù†Ø¸Ø§Ù… ÙƒØ§Ù…Ù„ (v4.0):
1. **Ø³ÙŠØ§Ø³Ø© Ø¯Ø±Ø¬Ø§Øª** (ØªØ­Ø¯Ø¯ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯).
2. **Ø¬Ø¯ÙˆÙ„Ø© Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª** (ÙÙŠ System 08).
3. **ÙˆØ§Ø¬Ø¨Ø§Øª ÙˆØ­Ø¶ÙˆØ±** (ÙÙŠ System 05 + 04).
4. **Ø­Ø³Ø§Ø¨ Ø´Ù‡Ø±ÙŠ -> ÙØµÙ„ÙŠ -> Ø³Ù†ÙˆÙŠ**.
5. **ØªÙ‚Ø±ÙŠØ± ÙˆÙ‚Ø±Ø§Ø± Ù†Ù‚Ù„**.

**ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«:** 2026-02-19 (v4.0)
